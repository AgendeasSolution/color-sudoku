<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Color Sudoku - Color Puzzle Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body class="game-body min-h-screen overflow-hidden">
    <!-- Animated Background -->
    <div class="game-background">
      <div class="stars"></div>
      <div class="stars2"></div>
      <div class="stars3"></div>
    </div>
    <!-- Navigation Buttons (fixed at screen corners) -->
    <div
      id="navigation-buttons"
      class="fixed top-3 left-3 right-3 flex justify-between items-center z-40 hidden"
    >
      <!-- Left side: Home and Level -->
      <div class="flex gap-2 items-center">
        <button id="home-button" class="game-button home-button">
          <i class="fa-solid fa-house button-icon"></i>
        </button>
        <div class="level-badge">
          <span id="level-indicator" class="level-text"></span>
        </div>
      </div>

      <!-- Right side: Undo, Reset, Solution, Play Again, and Sound -->
      <div class="flex gap-2">
        <button id="undo-button" class="game-button undo-button">
          <i class="fa-solid fa-undo button-icon"></i>
        </button>
        <button id="restart-button" class="game-button restart-button">
          <i class="fa-solid fa-refresh button-icon"></i>
        </button>
        <button id="solution-button" class="game-button solution-button">
          <i class="fa-solid fa-lightbulb button-icon"></i>
        </button>
        <button id="play-again-button" class="game-button play-again-button hidden">
          <span class="button-text">Play Again</span>
        </button>
        <button id="sound-button" class="game-button sound-button">
          <i class="fa-solid fa-volume-high button-icon" id="sound-icon"></i>
        </button>
      </div>
    </div>
    <!-- Startup Popup Modal -->
    <div
      id="startup-modal"
      class="fixed inset-0 flex items-center justify-center p-4 z-50"
    >
      <div
        class="game-modal startup-modal"
        style="transform: scale(1); opacity: 1"
      >
        <!-- Logo -->
        <div class="logo-section">
          <h1 class="game-title">Color Sudoku</h1>
          <p class="game-subtitle">Color Puzzle Adventure</p>
        </div>

        <!-- Goal -->
        <div class="info-section">
          <h2 class="section-title"><i class="instruction-icon">üéØ</i> Mission</h2>
          <p class="section-text">
            Fill the entire grid with colors following Color Sudoku rules. Each
            row and column must contain exactly one of each color, and no two
            adjacent cells (including diagonals) can have the same color.
          </p>
        </div>

        <!-- How to Play -->
        <div class="info-section">
          <h2 class="section-title"><i class="instruction-icon">üéÆ</i> How to Play</h2>
          <div class="instructions-list">
            <div class="instruction-item">
              <i class="instruction-icon">üé®</i>
              <span>Click on a color from the palette below</span>
            </div>
            <div class="instruction-item">
              <i class="instruction-icon">‚ú®</i>
              <span>The highlighted cell shows where to place it</span>
            </div>
            <div class="instruction-item">
              <i class="instruction-icon">üêç</i>
              <span>Follow the snake pattern to fill the grid</span>
            </div>
            <div class="instruction-item">
              <i class="instruction-icon">üí°</i>
              <span>Use the "Solution" button if you get stuck</span>
            </div>
            <div class="instruction-item">
              <i class="instruction-icon">üîÑ</i>
              <span>Use "Reset" to start over</span>
            </div>
          </div>
        </div>

        <!-- Start Button -->
        <button id="start-game-button" class="start-game-button">
          <span class="button-glow"></span>
          <span class="button-text">üöÄ Start Adventure</span>
        </button>
      </div>
    </div>

    <!-- Game Container (initially hidden) - only wraps the game board -->
    <div id="game-container" class="game-container hidden">
      <!-- Game Grid -->
      <div id="grid-board" class="game-grid">
        <!-- Cells will be generated by JavaScript -->
      </div>
    </div>


    <!-- Color Selector & Status -->
    <div class="controls-section">
      <div id="color-selector" class="color-palette">
        <!-- Color choices will be generated by JavaScript -->
      </div>

      <div id="status-message" class="status-display"></div>
    </div>

    <!-- Modal Container -->
    <div
      id="modal-container"
      class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center p-4 hidden z-50 backdrop-blur-sm"
    >
      <!-- No Solution Modal -->
      <div
        id="solution-modal"
        class="game-modal solution-modal hidden"
        style="transform: scale(0.95); opacity: 0"
      >
        <div class="modal-icon"><i class="fa-solid fa-circle-xmark"></i></div>
        <h3 class="modal-title">No Solution Found</h3>
        <p class="modal-text">
          Unfortunately, it's not possible to complete the grid from this
          position. You'll need to restart to try a different strategy.
        </p>
        <button data-action="close" class="modal-button close-button">
          <span class="button-glow"></span>
          <span class="button-text">Got It</span>
        </button>
      </div>

      <!-- Level Complete Modal -->
      <div
        id="level-complete-modal"
        class="game-modal level-complete-modal hidden"
        style="transform: scale(0.95); opacity: 0"
      >
        <div class="modal-icon"><i class="fa-solid fa-circle-check"></i></div>
        <h3 class="modal-title">Level Complete!</h3>
        <p class="modal-text">
          Great job! You've successfully completed the level.
        </p>
        <button data-action="next-level" class="modal-button next-level-button">
          <span class="button-glow"></span>
          <span class="button-text">Next Level</span>
        </button>
      </div>

      <!-- Game Over Modal -->
      <div
        id="game-over-modal"
        class="game-modal game-over-modal hidden"
        style="transform: scale(0.95); opacity: 0"
      >
        <div class="modal-icon"><i class="fa-solid fa-bomb"></i></div>
        <h3 class="modal-title">Game Over!</h3>
        <p class="modal-text">
          All color balls are blocked! No valid moves available. Try a different
          strategy.
        </p>
        <button data-action="restart-level" class="modal-button restart-button">
          <span class="button-glow"></span>
          <span class="button-text">Try Again</span>
        </button>
      </div>

      <!-- Solution Complete Modal -->
      <div
        id="solution-complete-modal"
        class="game-modal solution-complete-modal hidden"
        style="transform: scale(0.95); opacity: 0"
      >
        <div class="modal-icon"><i class="fa-solid fa-star"></i></div>
        <h3 class="modal-title">Solution Complete!</h3>
        <p class="modal-text">
          The solution has been revealed! You can now see how to complete this
          level.
        </p>
        <button data-action="play-again" class="modal-button play-again-button">
          <span class="button-glow"></span>
          <span class="button-text">Play Again</span>
        </button>
      </div>

      <!-- Game Complete Modal -->
      <div
        id="game-complete-modal"
        class="game-modal game-complete-modal hidden"
        style="transform: scale(0.95); opacity: 0"
      >
        <div class="modal-icon"><i class="fa-solid fa-trophy"></i></div>
        <h3 class="modal-title">You Win!</h3>
        <p class="modal-text">
          Congratulations! You've mastered the Color Sudoku puzzle!
        </p>
        <button
          data-action="restart-game"
          class="modal-button play-again-button"
        >
          <span class="button-glow"></span>
          <span class="button-text">Play Again</span>
        </button>
      </div>
    </div>
    <script src="assets/js/script.js"></script>
  </body>
</html>
